{"version":3,"file":"js/observations.d5017d73.js","mappings":"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","sources":["webpack://fitoagro_backoffice/./src/views/VisitsView.vue","webpack://fitoagro_backoffice/./src/components/Visits/VisitsTable.vue","webpack://fitoagro_backoffice/./src/components/Visits/VisitsTable.vue?8a99","webpack://fitoagro_backoffice/./src/views/VisitsView.vue?88bc"],"sourcesContent":["<template>\r\n  <v-container>\r\n    <v-row>\r\n      <v-col>\r\n        <v-card elevation=\"8\"\r\n          ><v-card-title>Filtro</v-card-title>\r\n          <v-card-text>\r\n            <v-row>\r\n              <v-col>\r\n                <v-row\r\n                  ><v-col cols=\"2\">\r\n                    <v-autocomplete\r\n                      v-model=\"filter.region_code\"\r\n                      :items=\"selectRegionItems\"\r\n                      label=\"Parcela\"\r\n                      item-title=\"title\"\r\n                      item-value=\"value\"\r\n                      color=\"primary\"\r\n                      density=\"comfortable\"\r\n                      variant=\"underlined\"\r\n                      :loading=\"isLoadingRegs\"\r\n                      clearable\r\n                    >\r\n                      <template v-if=\"reg_hasMore\" v-slot:append-item>\r\n                        <div v-intersect.quiet=\"loadMoreRegions\">\r\n                          <v-skeleton-loader\r\n                            type=\"list-item\"\r\n                          ></v-skeleton-loader>\r\n                        </div>\r\n                      </template>\r\n                    </v-autocomplete>\r\n                  </v-col>\r\n                  <v-col cols=\"3\" class=\"d-flex align-center mb-5\">\r\n                    <v-locale-provider locale=\"pt\">\r\n                      <v-date-input\r\n                        v-model=\"filter.dates\"\r\n                        label=\"Datas\"\r\n                        max-width=\"368\"\r\n                        prepend-icon=\"\"\r\n                        prepend-inner-icon=\"mdi-calendar\"\r\n                        multiple=\"range\"\r\n                        density=\"comfortable\"\r\n                        variant=\"underlined\"\r\n                        color=\"primary\"\r\n                        clearable\r\n                        @click:clear=\"filter.dates = []\"\r\n                      ></v-date-input>\r\n                    </v-locale-provider>\r\n                    <v-menu :close-on-content-click=\"false\">\r\n                      <template v-slot:activator=\"{ props }\">\r\n                        <v-btn\r\n                          :loading=\"isLoadingPeriods\"\r\n                          icon\r\n                          variant=\"plain\"\r\n                          v-bind=\"props\"\r\n                        >\r\n                          <v-icon>mdi-view-list</v-icon>\r\n                          <v-tooltip activator=\"parent\" location=\"top\">\r\n                            <span>Períodos Datas</span>\r\n                          </v-tooltip>\r\n                        </v-btn>\r\n                      </template>\r\n                      <v-card min-width=\"250\" max-height=\"300\">\r\n                        <v-card-title>\r\n                          <v-text-field\r\n                            density=\"compact\"\r\n                            v-model=\"filter_periods.period_name\"\r\n                            label=\"Pesquisa o nome\"\r\n                            color=\"primary\"\r\n                            append-icon=\"mdi-magnify\"\r\n                            variant=\"underlined\"\r\n                            hide-details\r\n                            clearable\r\n                            @click:append=\"searchPeriods()\"\r\n                          ></v-text-field>\r\n                        </v-card-title>\r\n                        <v-list class=\"scrollable-menu\">\r\n                          <v-divider></v-divider>\r\n                          <v-list-item\r\n                            v-for=\"period in periods\"\r\n                            :key=\"period.period_id\"\r\n                            :title=\"period.period_name\"\r\n                            :subtitle=\"`${formatDate(\r\n                              period.period_startdate\r\n                            )} - ${formatDate(period.period_enddate)}`\"\r\n                            @click=\"updateDates(period)\"\r\n                          ></v-list-item>\r\n                          <v-list-item v-if=\"periods_hasMore\">\r\n                            <div v-intersect.quiet=\"loadMorePeriods\">\r\n                              <v-skeleton-loader\r\n                                type=\"list-item\"\r\n                              ></v-skeleton-loader>\r\n                            </div>\r\n                          </v-list-item>\r\n                        </v-list>\r\n                      </v-card>\r\n                    </v-menu>\r\n                  </v-col>\r\n                  <v-col\r\n                    cols=\"3\"\r\n                    v-if=\"accountStore.hasRole(['Administrador'])\"\r\n                  >\r\n                    <v-autocomplete\r\n                      v-model=\"filter.agent_name\"\r\n                      :items=\"selectAgentItems\"\r\n                      label=\"Agente de Campo\"\r\n                      :item-title=\"(item) => `${item.title} - ${item.subtitle}`\"\r\n                      item-value=\"value\"\r\n                      color=\"primary\"\r\n                      variant=\"underlined\"\r\n                      density=\"comfortable\"\r\n                      :loading=\"isLoadingAgents\"\r\n                      clearable\r\n                    >\r\n                      <template v-if=\"ag_hasMore\" v-slot:append-item>\r\n                        <div v-intersect.quiet=\"loadMoreAgents\">\r\n                          <v-skeleton-loader\r\n                            type=\"list-item\"\r\n                          ></v-skeleton-loader>\r\n                        </div>\r\n                      </template>\r\n                      <template v-slot:item=\"{ props, item }\">\r\n                        <v-list-item\r\n                          v-bind=\"props\"\r\n                          :title=\"item.raw.title\"\r\n                          :subtitle=\"item.raw.subtitle\"\r\n                        >\r\n                        </v-list-item>\r\n                      </template>\r\n                    </v-autocomplete>\r\n                  </v-col>\r\n                  <!-- <v-col cols=\"3\">\r\n                    <v-text-field\r\n                      v-model=\"filter.fileId\"\r\n                      placeholder=\"ID da Pasta\"\r\n                      color=\"primary\"\r\n                      variant=\"underlined\"\r\n                      density=\"comfortable\"\r\n                      clearable\r\n                    ></v-text-field>\r\n                  </v-col> -->\r\n                  <v-col cols=\"2\">\r\n                    <v-text-field\r\n                      v-model.trim=\"filter.nea\"\r\n                      label=\"NEA\"\r\n                      type=\"number\"\r\n                      prefix=\"%\"\r\n                      color=\"primary\"\r\n                      variant=\"underlined\"\r\n                      density=\"comfortable\"\r\n                      :rules=\"[rules.percentage]\"\r\n                      clearable\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"2\">\r\n                    <v-autocomplete\r\n                      v-model=\"filter.ef\"\r\n                      :loading=\"isLoadingStages\"\r\n                      :items=\"stages\"\r\n                      no-data-text=\"Sem resultados\"\r\n                      item-title=\"phenologicalstage_code\"\r\n                      item-value=\"phenologicalstage_code\"\r\n                      label=\"EF\"\r\n                      color=\"primary\"\r\n                      variant=\"underlined\"\r\n                      density=\"comfortable\"\r\n                      clearable\r\n                    >\r\n                      <template v-slot:item=\"{ props, item }\">\r\n                        <v-list-item\r\n                          v-bind=\"props\"\r\n                          :title=\"item.raw.phenologicalstage_code\"\r\n                          :subtitle=\"item.raw.phenologicalstage_name\"\r\n                        >\r\n                        </v-list-item>\r\n                      </template>\r\n                    </v-autocomplete>\r\n                  </v-col>\r\n                  <v-col sm=\"3\" md=\"3\" lg=\"3\" xl=\"2\">\r\n                    <v-switch\r\n                      label=\"Visita\"\r\n                      v-model=\"filter.visited\"\r\n                      :indeterminate=\"filter.visited === null\"\r\n                      color=\"info\"\r\n                      prepend-icon=\"mdi-close-circle\"\r\n                      @click:prepend=\"filter.visited = null\"\r\n                    ></v-switch>\r\n                  </v-col>\r\n                  <v-col sm=\"3\" md=\"3\" lg=\"3\" xl=\"2\">\r\n                    <v-switch\r\n                      label=\"GPS\"\r\n                      v-model=\"filter.gps\"\r\n                      :indeterminate=\"filter.gps === null\"\r\n                      color=\"info\"\r\n                      prepend-icon=\"mdi-close-circle\"\r\n                      @click:prepend=\"filter.gps = null\"\r\n                    ></v-switch>\r\n                  </v-col>\r\n                  <v-col sm=\"3\" md=\"3\" lg=\"3\" xl=\"2\">\r\n                    <v-switch\r\n                      label=\"Fotos\"\r\n                      v-model=\"filter.hasPhotos\"\r\n                      :indeterminate=\"filter.hasPhotos === null\"\r\n                      color=\"info\"\r\n                      prepend-icon=\"mdi-close-circle\"\r\n                      @click:prepend=\"filter.hasPhotos = null\"\r\n                    ></v-switch>\r\n                    <v-text-field\r\n                      v-if=\"filter.hasPhotos\"\r\n                      v-model.trim=\"filter.numPhotos\"\r\n                      label=\"Nº Fotos\"\r\n                      type=\"number\"\r\n                      color=\"primary\"\r\n                      variant=\"underlined\"\r\n                      density=\"compact\"\r\n                      :rules=\"[rules.gtZero]\"\r\n                      clearable\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col sm=\"3\" md=\"3\" lg=\"3\" xl=\"2\">\r\n                    <v-switch\r\n                      label=\"Chuva\"\r\n                      v-model=\"filter.rain\"\r\n                      :indeterminate=\"filter.rain === null\"\r\n                      color=\"info\"\r\n                      prepend-icon=\"mdi-close-circle\"\r\n                      @click:prepend=\"filter.rain = null\"\r\n                    ></v-switch>\r\n                  </v-col>\r\n                  <v-col sm=\"3\" md=\"3\" lg=\"3\" xl=\"2\">\r\n                    <v-switch\r\n                      label=\"Tratamento\"\r\n                      v-model=\"filter.treatment\"\r\n                      :indeterminate=\"filter.treatment === null\"\r\n                      color=\"info\"\r\n                      prepend-icon=\"mdi-close-circle\"\r\n                      @click:prepend=\"filter.treatment = null\"\r\n                    ></v-switch>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n              <v-col cols=\"2\">\r\n                <v-btn\r\n                  color=\"secondary\"\r\n                  icon\r\n                  variant=\"text\"\r\n                  :disabled=\"isLoading\"\r\n                  @click=\"searchVisits()\"\r\n                >\r\n                  <v-icon size=\"x-large\">mdi-magnify</v-icon>\r\n                </v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row>\r\n      <v-col>\r\n        <VisitsTable\r\n          :visits=\"visits\"\r\n          :isLoading=\"isLoading\"\r\n          :hasMore=\"vis_hasMore\"\r\n          @loadMore=\"listVisits()\"\r\n        ></VisitsTable>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport VisitsTable from \"@/components/Visits/VisitsTable.vue\";\r\n\r\nimport { useAccountStore } from \"@/stores/accountStore\";\r\nimport { useGeneralStore } from \"@/stores/generalStore\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"VisitsView\",\r\n  components: {\r\n    VisitsTable,\r\n  },\r\n  setup() {\r\n    const accountStore = useAccountStore();\r\n    const generalStore = useGeneralStore();\r\n\r\n    return { accountStore, generalStore };\r\n  },\r\n  data() {\r\n    return {\r\n      //list observations\r\n      isLoading: false,\r\n      observations: [],\r\n      filter: {\r\n        region_code: null,\r\n        dates: [],\r\n        agent_name: null,\r\n        fileId: null,\r\n        nea: null,\r\n        ef: null,\r\n        visited: null,\r\n        gps: null,\r\n        hasPhotos: null,\r\n        numPhotos: null,\r\n        rain: null,\r\n        treatment: null,\r\n      },\r\n\r\n      visits: [],\r\n      vis_offset: 0,\r\n      vis_limit: 16,\r\n      vis_hasMore: false,\r\n\r\n      //regions for filter\r\n      regions: [],\r\n      isLoadingRegs: false,\r\n      reg_offset: 0,\r\n      reg_limit: 10,\r\n      reg_hasMore: false,\r\n\r\n      //agents for filter\r\n      agents: [],\r\n      isLoadingAgents: false,\r\n      ag_offset: 0,\r\n      ag_limit: 10,\r\n      ag_hasMore: false,\r\n\r\n      //pheno stages for filter\r\n      stages: [],\r\n      isLoadingStages: false,\r\n\r\n      //regioninperiods for filter\r\n      periods: [],\r\n      isLoadingPeriods: false,\r\n      filter_periods: {\r\n        period_name: null,\r\n      },\r\n      periods_offset: 0,\r\n      periods_limit: 5,\r\n      periods_hasMore: false,\r\n\r\n      rules: {\r\n        percentage: (value) => {\r\n          if (value === null || value === \"\") return true;\r\n          return (value >= 0 && value <= 100) || \"Valor inválido\";\r\n        },\r\n        gtZero: (value) => {\r\n          if (value === null || value === \"\") return true;\r\n          return value > 0 || \"Valor inválido\";\r\n        },\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    dateRange() {\r\n      return this.filter.dates.length > 0\r\n        ? this.filter.dates[0] +\r\n            \" - \" +\r\n            this.filter.dates[this.filter.dates.length - 1]\r\n        : null;\r\n    },\r\n    selectRegionItems() {\r\n      return this.regions.map((region) => ({\r\n        title: `${region.region_code} - ${region.region_name}`,\r\n        value: region.region_code,\r\n      }));\r\n    },\r\n    selectAgentItems() {\r\n      return this.agents.map((agent) => ({\r\n        title: `${agent.name}`,\r\n        subtitle: `${agent.username}`,\r\n        value: agent.name,\r\n      }));\r\n    },\r\n  },\r\n  methods: {\r\n    // async listObservations() {\r\n    //   this.isLoading = true;\r\n    //   await axios\r\n    //     .request({\r\n    //       url: `api/observations`,\r\n    //       method: \"GET\",\r\n    //       headers: {\r\n    //         Authorization: `Bearer ${this.accountStore.account.token}`,\r\n    //       },\r\n    //       params: {\r\n    //         region_code: this.filter.region_code,\r\n    //         date_range: this.dateRange,\r\n    //         email: this.filter.email,\r\n    //         fileId: this.filter.fileId,\r\n    //         nea: this.filter.nea,\r\n    //         ef: this.filter.ef,\r\n    //         visited: this.filter.visited,\r\n    //         gps: this.filter.gps,\r\n    //         hasPhotos: this.filter.hasPhotos,\r\n    //         numPhotos: this.filter.numPhotos,\r\n    //         rain: this.filter.rain,\r\n    //         treatment: this.filter.treatment,\r\n    //       },\r\n    //     })\r\n    //     .then((response) => {\r\n    //       this.observations = response.data;\r\n    //     })\r\n    //     .catch((error) => {\r\n    //       console.error(error);\r\n    //       this.generalStore.errorSnackbar(\"Erro ao carregar observações\");\r\n    //     })\r\n    //     .finally(() => {\r\n    //       this.isLoading = false;\r\n    //     });\r\n    // },\r\n    async listVisits() {\r\n      this.isLoading = true;\r\n      axios\r\n        .request({\r\n          url: `api/visits`,\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${this.accountStore.account.token}`,\r\n          },\r\n          params: {\r\n            offset: this.vis_offset,\r\n            limit: this.vis_limit,\r\n\r\n            region_code: this.filter.region_code,\r\n            date_range: this.dateRange,\r\n            agent_name: this.filter.agent_name,\r\n            // fileId: this.filter.fileId,\r\n            nea: this.filter.nea,\r\n            ef: this.filter.ef,\r\n            visited: this.filter.visited,\r\n            gps: this.filter.gps,\r\n            hasPhotos: this.filter.hasPhotos,\r\n            numPhotos: this.filter.numPhotos,\r\n            rain: this.filter.rain,\r\n            treatment: this.filter.treatment,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.visits.push(...response.data.visits);\r\n          this.vis_offset += response.data.visits.length;\r\n          this.vis_hasMore = response.data.hasMore;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          this.generalStore.errorSnackbar(\"Erro ao carregar visitas\");\r\n        })\r\n        .finally(() => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n\r\n    searchVisits() {\r\n      this.vis_offset = 0;\r\n      this.visits = [];\r\n      this.listVisits();\r\n      // this.listObservations();\r\n    },\r\n\r\n    async listRegions() {\r\n      this.isLoadingRegs = true;\r\n      await axios\r\n        .request({\r\n          url: `api/regions`,\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${this.accountStore.account.token}`,\r\n          },\r\n          params: {\r\n            offset: this.reg_offset,\r\n            limit: this.reg_limit,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.regions.push(...response.data.regions);\r\n          this.reg_offset += response.data.regions.length;\r\n          this.reg_hasMore = response.data.hasMore;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          this.generalStore.errorSnackbar(\"Erro ao carregar regiões\");\r\n        })\r\n        .finally(() => {\r\n          this.isLoadingRegs = false;\r\n        });\r\n    },\r\n    loadMoreRegions(isIntersecting) {\r\n      if (isIntersecting) {\r\n        this.listRegions();\r\n      }\r\n    },\r\n\r\n    async listAgents() {\r\n      this.isLoadingAgents = true;\r\n      await axios\r\n        .request({\r\n          url: `api/agents`,\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${this.accountStore.account.token}`,\r\n          },\r\n          params: {\r\n            offset: this.ag_offset,\r\n            limit: this.ag_limit,\r\n\r\n            type: 1, //HARD CODED : 1 = Agente de Campo\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.agents.push(...response.data.agents);\r\n          this.ag_offset += response.data.agents.length;\r\n          this.ag_hasMore = response.data.hasMore;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          this.generalStore.errorSnackbar(\"Erro ao carregar agentes\");\r\n        })\r\n        .finally(() => {\r\n          this.isLoadingAgents = false;\r\n        });\r\n    },\r\n    loadMoreAgents(isIntersecting) {\r\n      if (isIntersecting) {\r\n        this.listAgents();\r\n      }\r\n    },\r\n\r\n    listPhenologicalStages() {\r\n      this.isLoadingStages = true;\r\n      axios\r\n        .request({\r\n          url: \"api/phenologicalstages\",\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.accountStore.account.token,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.stages = response.data;\r\n          this.isLoadingStages = false;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          this.generalStore.errorSnackbar(\r\n            \"Erro ao carregar estágios fenológicos\"\r\n          );\r\n        });\r\n    },\r\n\r\n    listPeriods() {\r\n      this.isLoadingPeriods = true;\r\n      axios\r\n        .request({\r\n          url: \"api/periods\",\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + this.accountStore.account.token,\r\n          },\r\n          params: {\r\n            limit: this.periods_limit,\r\n            offset: this.periods_offset,\r\n\r\n            name: this.filter_periods.period_name,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.periods.push(...response.data.periods);\r\n          this.periods_offset += response.data.periods.length;\r\n          this.periods_hasMore = response.data.hasMore;\r\n          this.isLoadingPeriods = false;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n          this.isLoadingPeriods = false;\r\n          this.generalStore.errorSnackbar(\"Erro ao carregar períodos\");\r\n        });\r\n    },\r\n\r\n    loadMorePeriods(isIntersecting) {\r\n      if (isIntersecting) {\r\n        this.listPeriods();\r\n      }\r\n    },\r\n\r\n    searchPeriods() {\r\n      this.periods = [];\r\n      this.periods_offset = 0;\r\n      this.listPeriods();\r\n    },\r\n\r\n    formatDate(date) {\r\n      return new Date(date).toLocaleDateString(\"pt-PT\");\r\n    },\r\n\r\n    updateDates(period) {\r\n      const start_date = new Date(period.period_startdate);\r\n      const end_date = new Date(period.period_enddate);\r\n      this.filter.dates = [start_date, end_date];\r\n    },\r\n  },\r\n  mounted() {\r\n    // this.listObservations();\r\n    this.listVisits();\r\n    this.listRegions();\r\n    this.listPeriods();\r\n    this.listPhenologicalStages();\r\n    if (this.accountStore.hasRole([\"Administrador\"])) this.listAgents();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.scrollable-menu {\r\n  max-height: 220px;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","<template>\r\n  <v-card class=\"pa-5\" elevation=\"8\" rounded :height=\"sheetHeight\">\r\n    <v-card-title>\r\n      <v-progress-linear\r\n        v-if=\"isLoading\"\r\n        color=\"primary\"\r\n        indeterminate\r\n      ></v-progress-linear>\r\n    </v-card-title>\r\n    <v-card-text class=\"scrollable\">\r\n      <v-row class=\"fill-width\">\r\n        <v-col v-if=\"visits.length == 0 && !isLoading\">\r\n          <v-card class=\"fill-width\" elevation=\"0\">\r\n            <v-card-text class=\"text-center\">\r\n              <v-icon size=\"100\">mdi-file-search</v-icon>\r\n              <h2 class=\"text-h5\">Nenhuma observação encontrada</h2>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n        <v-col\r\n          v-else\r\n          v-for=\"visit in visits\"\r\n          :key=\"visit.fileId\"\r\n          sm=\"6\"\r\n          md=\"6\"\r\n          lg=\"4\"\r\n          xl=\"3\"\r\n        >\r\n          <VisitCard :visit=\"visit\" @detail=\"openDetail($event)\"></VisitCard>\r\n        </v-col>\r\n        <v-col v-if=\"hasMore && !isLoading\" cols=\"3\">\r\n          <v-skeleton-loader\r\n            v-intersect.quiet=\"{\r\n              handler: loadMore,\r\n              options: {\r\n                threshold: 0.5,\r\n              },\r\n            }\"\r\n            type=\"card\"\r\n          ></v-skeleton-loader>\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n    <VisitDetail\r\n      :visit=\"visit_selected\"\r\n      :dialog=\"detailDialog\"\r\n      @update:dialog=\"detailDialog = $event\"\r\n    ></VisitDetail>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport VisitCard from \"./VisitCard.vue\";\r\nimport VisitDetail from \"./VisitDetail.vue\";\r\n\r\nimport { useGeneralStore } from \"@/stores/generalStore\";\r\nimport { useAccountStore } from \"@/stores/accountStore\";\r\n\r\nexport default {\r\n  name: \"VisitsTable\",\r\n  components: {\r\n    VisitCard,\r\n    VisitDetail,\r\n  },\r\n  props: {\r\n    visits: Array,\r\n    isLoading: Boolean,\r\n    hasMore: Boolean,\r\n  },\r\n  setup() {\r\n    const generalStore = useGeneralStore();\r\n    const accountStore = useAccountStore();\r\n\r\n    return { generalStore, accountStore };\r\n  },\r\n  data() {\r\n    return {\r\n      detailDialog: false,\r\n      visit_selected: null,\r\n      // sheetHeight: window.innerHeight * 0.6,\r\n    };\r\n  },\r\n\r\n  watch: {},\r\n  computed: {\r\n    sheetHeight() {\r\n      return window.innerHeight * 0.6;\r\n    },\r\n  },\r\n  methods: {\r\n    openDetail(visit) {\r\n      this.visit_selected = JSON.parse(JSON.stringify(visit));\r\n      this.detailDialog = true;\r\n    },\r\n    loadMore(isIntersecting) {\r\n      if (isIntersecting) {\r\n        this.$emit(\"loadMore\");\r\n      }\r\n    },\r\n\r\n    // resizeSheet() {\r\n    //   console.log(window.innerHeight);\r\n    //   this.sheetHeight = window.innerHeight* 0.6;\r\n    // },\r\n  },\r\n  // created() {\r\n  //   window.addEventListener(\"resize\", this.resizeSheet);\r\n  // },\r\n  // destroyed() {\r\n  //   window.removeEventListener(\"resize\", this.resizeSheet);\r\n  // },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.scrollable {\r\n  overflow-y: auto;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./VisitsTable.vue?vue&type=template&id=46c4ecfc&scoped=true\"\nimport script from \"./VisitsTable.vue?vue&type=script&lang=js\"\nexport * from \"./VisitsTable.vue?vue&type=script&lang=js\"\n\nimport \"./VisitsTable.vue?vue&type=style&index=0&id=46c4ecfc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-46c4ecfc\"]])\n\nexport default __exports__","import { render } from \"./VisitsView.vue?vue&type=template&id=51e6a8f7&scoped=true\"\nimport script from \"./VisitsView.vue?vue&type=script&lang=js\"\nexport * from \"./VisitsView.vue?vue&type=script&lang=js\"\n\nimport \"./VisitsView.vue?vue&type=style&index=0&id=51e6a8f7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51e6a8f7\"]])\n\nexport default __exports__"],"names":["_createElementVNode","_createBlock","_component_v_container","default","_withCtx","_createVNode","_component_v_row","_component_v_col","_component_v_card","elevation","_component_v_card_title","_createTextVNode","_","_component_v_card_text","cols","_component_v_autocomplete","modelValue","$data","filter","region_code","_cache","$event","items","$options","selectRegionItems","label","color","density","variant","loading","isLoadingRegs","clearable","_createSlots","reg_hasMore","name","fn","_createElementBlock","_component_v_skeleton_loader","type","loadMoreRegions","quiet","key","undefined","class","_component_v_locale_provider","locale","_component_v_date_input","dates","multiple","_component_v_menu","activator","props","_component_v_btn","_mergeProps","isLoadingPeriods","icon","_component_v_icon","_component_v_tooltip","location","_hoisted_1","_component_v_text_field","filter_periods","period_name","searchPeriods","_component_v_list","_component_v_divider","_Fragment","_renderList","periods","period","_component_v_list_item","period_id","title","subtitle","formatDate","period_startdate","period_enddate","onClick","updateDates","periods_hasMore","loadMorePeriods","_createCommentVNode","$setup","accountStore","hasRole","agent_name","selectAgentItems","item","isLoadingAgents","raw","ag_hasMore","loadMoreAgents","nea","modelModifiers","trim","prefix","rules","percentage","ef","isLoadingStages","stages","phenologicalstage_code","phenologicalstage_name","sm","md","lg","xl","_component_v_switch","visited","indeterminate","gps","hasPhotos","numPhotos","gtZero","rain","treatment","disabled","isLoading","searchVisits","size","_component_VisitsTable","visits","hasMore","vis_hasMore","onLoadMore","listVisits","rounded","height","sheetHeight","$props","_component_v_progress_linear","length","visit","fileId","_component_VisitCard","onDetail","openDetail","loadMore","_component_VisitDetail","visit_selected","dialog","detailDialog","components","VisitCard","VisitDetail","Array","Boolean","setup","generalStore","useGeneralStore","useAccountStore","data","watch","computed","window","innerHeight","methods","this","JSON","parse","stringify","isIntersecting","$emit","__exports__","VisitsTable","observations","vis_offset","vis_limit","regions","reg_offset","reg_limit","agents","ag_offset","ag_limit","periods_offset","periods_limit","value","dateRange","map","region","region_name","agent","username","axios","request","url","method","headers","Authorization","account","token","params","offset","limit","date_range","then","response","push","catch","error","console","errorSnackbar","finally","listRegions","listAgents","listPhenologicalStages","listPeriods","date","Date","toLocaleDateString","start_date","end_date","mounted","render"],"sourceRoot":""}