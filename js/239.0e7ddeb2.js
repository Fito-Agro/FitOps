"use strict";(self["webpackChunkfitoagro_backoffice"]=self["webpackChunkfitoagro_backoffice"]||[]).push([[239],{2239:function(e,l,t){t.d(l,{V:function(){return M}});var a=t(6768),n=t(3416),u=t(6852),o=t(5523),i=t(7852),r=t(9669),s=t(2164),c=t(7254),v=t(8249),p=t(105),d=t(3948),f=t(5863),m=t(6312),h=t(2886),y=t(6547),g=t(3651),b=t(1950),F=t(5574),k=t(5296),w=t(2067),x=t(4464),K=t(144),C=t(4587),S=t(9094),V=t(1247),_=t(6993),E=t(4600);function I(e,l,t){if(null==l)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return"number"===typeof l&&~l?(0,a.bF)(a.FK,null,[(0,a.bF)("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),(0,a.bF)("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),(0,a.bF)("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const R=(0,C.j)({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...(0,y.tk)({filterKeys:["title"]}),...(0,p.vw)(),...(0,S.cJ)((0,d.i)({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...(0,x.m)({transition:!1})},"VAutocomplete"),M=(0,V.RW)()({name:"VAutocomplete",props:R(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:p}=(0,k.Ym)(),x=(0,K.KR)(),C=(0,K.IJ)(!1),V=(0,K.IJ)(!0),R=(0,K.IJ)(!1),M=(0,K.KR)(),A=(0,K.KR)(),B=(0,w.q)(e,"menu"),D=(0,a.EW)({get:()=>B.value,set:e=>{B.value&&!e&&M.value?.Î¨openChildren||(B.value=e)}}),W=(0,K.IJ)(-1),O=(0,a.EW)((()=>x.value?.color)),P=(0,a.EW)((()=>D.value?e.closeText:e.openText)),{items:T,transformIn:j,transformOut:L}=(0,F.wB)(e),{textColorClasses:N,textColorStyles:U}=(0,h.aH)(O),J=(0,w.q)(e,"search",""),q=(0,w.q)(e,"modelValue",[],(e=>j(null===e?[null]:(0,S.BN)(e))),(l=>{const t=L(l);return e.multiple?t:t[0]??null})),Y=(0,a.EW)((()=>"function"===typeof e.counterValue?e.counterValue(q.value):"number"===typeof e.counterValue?e.counterValue:q.value.length)),z=(0,g.mN)(),{filteredItems:H,getMatches:Q}=(0,y.U2)(e,T,(()=>V.value?"":J.value)),Z=(0,a.EW)((()=>e.hideSelected?H.value.filter((e=>!q.value.some((l=>l.value===e.value)))):H.value)),G=(0,a.EW)((()=>!(!e.chips&&!t.chip))),X=(0,a.EW)((()=>G.value||!!t.selection)),$=(0,a.EW)((()=>q.value.map((e=>e.props.value)))),ee=(0,a.EW)((()=>{const l=!0===e.autoSelectFirst||"exact"===e.autoSelectFirst&&J.value===Z.value[0]?.title;return l&&Z.value.length>0&&!V.value&&!R.value})),le=(0,a.EW)((()=>e.hideNoData&&!Z.value.length||e.readonly||z?.isReadonly.value)),te=(0,K.KR)(),{onListScroll:ae,onListKeydown:ne}=(0,m.b)(te,x);function ue(l){e.openOnClear&&(D.value=!0),J.value=""}function oe(){le.value||(D.value=!0)}function ie(e){le.value||(C.value&&(e.preventDefault(),e.stopPropagation()),D.value=!D.value)}function re(l){if(e.readonly||z?.isReadonly.value)return;const t=x.value.selectionStart,a=q.value.length;if((W.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(D.value=!0),["Escape"].includes(l.key)&&(D.value=!1),ee.value&&["Enter","Tab"].includes(l.key)&&!q.value.some((e=>{let{value:l}=e;return l===Z.value[0].value}))&&me(Z.value[0]),"ArrowDown"===l.key&&ee.value&&te.value?.focus("next"),["Backspace","Delete"].includes(l.key)){if(!e.multiple&&X.value&&q.value.length>0&&!J.value)return me(q.value[0],!1);if(~W.value){const e=W.value;me(q.value[W.value],!1),W.value=e>=a-1?a-2:e}else"Backspace"!==l.key||J.value||(W.value=a-1)}if(e.multiple){if("ArrowLeft"===l.key){if(W.value<0&&t>0)return;const e=W.value>-1?W.value-1:a-1;q.value[e]?W.value=e:(W.value=-1,x.value.setSelectionRange(J.value?.length,J.value?.length))}if("ArrowRight"===l.key){if(W.value<0)return;const e=W.value+1;q.value[e]?W.value=e:(W.value=-1,x.value.setSelectionRange(0,0))}}}function se(e){if((0,S.B5)(x.value,":autofill")||(0,S.B5)(x.value,":-webkit-autofill")){const l=T.value.find((l=>l.title===e.target.value));l&&me(l)}}function ce(){C.value&&(V.value=!0,x.value?.focus())}function ve(e){C.value=!0,setTimeout((()=>{R.value=!0}))}function pe(e){R.value=!1}function de(l){null!=l&&(""!==l||e.multiple||X.value)||(q.value=[])}const fe=(0,K.IJ)(!1);function me(l){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(l&&!l.props.disabled)if(e.multiple){const a=q.value.findIndex((t=>e.valueComparator(t.value,l.value))),n=null==t?!~a:t;if(~a){const e=n?[...q.value,l]:[...q.value];e.splice(a,1),q.value=e}else n&&(q.value=[...q.value,l]);e.clearOnSelect&&(J.value="")}else{const e=!1!==t;q.value=e?[l]:[],J.value=e&&!X.value?l.title:"",(0,a.dY)((()=>{D.value=!1,V.value=!0}))}}return(0,a.wB)(C,((l,t)=>{l!==t&&(l?(fe.value=!0,J.value=e.multiple||X.value?"":String(q.value.at(-1)?.props.title??""),V.value=!0,(0,a.dY)((()=>fe.value=!1))):(e.multiple||null!=J.value||(q.value=[]),D.value=!1,q.value.some((e=>{let{title:l}=e;return l===J.value}))||(J.value=""),W.value=-1))})),(0,a.wB)(J,(e=>{C.value&&!fe.value&&(e&&(D.value=!0),V.value=!e)})),(0,a.wB)(D,(()=>{if(!e.hideSelected&&D.value&&q.value.length){const e=Z.value.findIndex((e=>q.value.some((l=>e.value===l.value))));_.ZK&&window.requestAnimationFrame((()=>{e>=0&&A.value?.scrollToIndex(e)}))}})),(0,a.wB)((()=>e.items),((e,l)=>{D.value||C.value&&!l.length&&e.length&&(D.value=!0)})),(0,E.C)((()=>{const l=!!(!e.hideNoData||Z.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),m=q.value.length>0,h=d.W.filterProps(e);return(0,a.bF)(d.W,(0,a.v6)({ref:x},h,{modelValue:J.value,"onUpdate:modelValue":[e=>J.value=e,de],focused:C.value,"onUpdate:focused":e=>C.value=e,validationValue:q.externalValue,counterValue:Y.value,dirty:m,onChange:se,class:["v-autocomplete","v-autocomplete--"+(e.multiple?"multiple":"single"),{"v-autocomplete--active-menu":D.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!X.value,"v-autocomplete--selecting-index":W.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:m?void 0:e.placeholder,"onClick:clear":ue,"onMousedown:control":oe,onKeydown:re}),{...t,default:()=>(0,a.bF)(a.FK,null,[(0,a.bF)(v.q,(0,a.v6)({ref:M,modelValue:D.value,"onUpdate:modelValue":e=>D.value=e,activator:"parent",contentClass:"v-autocomplete__content",disabled:le.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:ce},e.menuProps),{default:()=>[l&&(0,a.bF)(s.x8,(0,a.v6)({ref:te,selected:$.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:ne,onFocusin:ve,onFocusout:pe,onScrollPassive:ae,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>[t["prepend-item"]?.(),!Z.value.length&&!e.hideNoData&&(t["no-data"]?.()??(0,a.bF)(c.g,{title:p(e.noDataText)},null)),(0,a.bF)(f.h,{ref:A,renderless:!0,items:Z.value},{default:l=>{let{item:o,index:i,itemRef:s}=l;const v=(0,a.v6)(o.props,{ref:s,key:i,active:!(!ee.value||0!==i)||void 0,onClick:()=>me(o,null)});return t.item?.({item:o,index:i,props:v})??(0,a.bF)(c.g,(0,a.v6)(v,{role:"option"}),{prepend:l=>{let{isSelected:t}=l;return(0,a.bF)(a.FK,null,[e.multiple&&!e.hideSelected?(0,a.bF)(u.M,{key:o.value,modelValue:t,ripple:!1,tabindex:"-1"},null):void 0,o.props.prependAvatar&&(0,a.bF)(n.y,{image:o.props.prependAvatar},null),o.props.prependIcon&&(0,a.bF)(r.w,{icon:o.props.prependIcon},null)])},title:()=>V.value?o.title:I(o.title,Q(o)?.title,J.value?.length??0)})}}),t["append-item"]?.()]})]}),q.value.map(((l,n)=>{function u(e){e.stopPropagation(),e.preventDefault(),me(l,!1)}const r={"onClick:close":u,onKeydown(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),u(e))},onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},s=G.value?!!t.chip:!!t.selection,c=s?(0,S.T4)(G.value?t.chip({item:l,index:n,props:r}):t.selection({item:l,index:n})):void 0;if(!s||c)return(0,a.bF)("div",{key:l.value,class:["v-autocomplete__selection",n===W.value&&["v-autocomplete__selection--selected",N.value]],style:n===W.value?U.value:{}},[G.value?t.chip?(0,a.bF)(i.K,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:l.title}}},{default:()=>[c]}):(0,a.bF)(o.x,(0,a.v6)({key:"chip",closable:e.closableChips,size:"small",text:l.title,disabled:l.props.disabled},r),null):c??(0,a.bF)("span",{class:"v-autocomplete__selection-text"},[l.title,e.multiple&&n<q.value.length-1&&(0,a.bF)("span",{class:"v-autocomplete__selection-comma"},[(0,a.eW)(",")])])])}))]),"append-inner":function(){for(var l=arguments.length,n=new Array(l),u=0;u<l;u++)n[u]=arguments[u];return(0,a.bF)(a.FK,null,[t["append-inner"]?.(...n),e.menuIcon?(0,a.bF)(r.w,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:ie,onClick:S.lQ,"aria-label":p(P.value),title:p(P.value),tabindex:"-1"},null):void 0])}})})),(0,b.O)({isFocused:C,isPristine:V,menu:D,search:J,filteredItems:H,select:me},x)}})},6547:function(e,l,t){t.d(l,{U2:function(){return c},tk:function(){return r}});t(4114);var a=t(144),n=t(6768),u=t(4587),o=t(9094);const i=(e,l,t)=>null==e||null==l?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),r=(0,u.j)({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function s(e,l,t){const a=[],n=t?.default??i,u=!!t?.filterKeys&&(0,o.BN)(t.filterKeys),r=Object.keys(t?.customKeyFilter??{}).length;if(!e?.length)return a;e:for(let i=0;i<e.length;i++){const[s,c=s]=(0,o.BN)(e[i]),v={},p={};let d=-1;if((l||r>0)&&!t?.noFilter){if("object"===typeof s){const e=u||Object.keys(c);for(const a of e){const e=(0,o.TD)(c,a),u=t?.customKeyFilter?.[a];if(d=u?u(e,l,s):n(e,l,s),-1!==d&&!1!==d)u?v[a]=d:p[a]=d;else if("every"===t?.filterMode)continue e}}else d=n(s,l,s),-1!==d&&!1!==d&&(p.title=d);const e=Object.keys(p).length,a=Object.keys(v).length;if(!e&&!a)continue;if("union"===t?.filterMode&&a!==r&&!e)continue;if("intersection"===t?.filterMode&&(a!==r||!e))continue}a.push({index:i,matches:{...p,...v}})}return a}function c(e,l,t,u){const o=(0,a.KR)([]),i=(0,a.KR)(new Map),r=(0,n.EW)((()=>u?.transform?(0,a.R1)(l).map((e=>[e,u.transform(e)])):(0,a.R1)(l)));function c(e){return i.value.get(e.value)}return(0,n.nT)((()=>{const n="function"===typeof t?t():(0,a.R1)(t),c="string"!==typeof n&&"number"!==typeof n?"":String(n),v=s(r.value,c,{customKeyFilter:{...e.customKeyFilter,...(0,a.R1)(u?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),p=(0,a.R1)(l),d=[],f=new Map;v.forEach((e=>{let{index:l,matches:t}=e;const a=p[l];d.push(a),f.set(a.value,t)})),o.value=d,i.value=f})),{filteredItems:o,filteredMatches:i,getMatches:c}}}}]);
//# sourceMappingURL=239.0e7ddeb2.js.map