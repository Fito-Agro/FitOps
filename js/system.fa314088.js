"use strict";(self["webpackChunkfitoagro_backoffice"]=self["webpackChunkfitoagro_backoffice"]||[]).push([[204],{1785:function(e,t,a){a.r(t),a.d(t,{default:function(){return ia}});var i=a(6768),o=a(3813),l=a(6756),n=a(5526),r=a(1146);function s(e,t,a,s,d,c){const u=(0,i.g2)("CropTypesConfig"),p=(0,i.g2)("EnemyTypesConfig"),m=(0,i.g2)("RegionTypesConfig"),g=(0,i.g2)("PeriodTypesConfig"),h=(0,i.g2)("OrganizationTypesConfig"),y=(0,i.g2)("MediaTypesConfig"),f=(0,i.g2)("EventTypesConfig");return(0,i.uX)(),(0,i.Wv)(o.I,null,{default:(0,i.k6)((()=>[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{class:"d-flex justify-center scrollable"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{sm:"12",md:"10",lg:"10",xl:"6"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{height:c.sheetHeight},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(u)])),_:1}),(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(p)])),_:1}),(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(m)])),_:1}),(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(g)])),_:1}),(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(h)])),_:1}),(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(y)])),_:1}),(0,i.bF)(n.B,{cols:"12"},{default:(0,i.k6)((()=>[(0,i.bF)(f)])),_:1})])),_:1})])),_:1},8,["height"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var d=a(4232),c=a(5130),u=a(2807),p=a(4593),m=a(1606),g=a(697),h=a(3745),y=a(1772),f=a(7511),k=a(6984),b=a(9788),_=a(2067),v=a(5399),F=a(1743),L=a(4464),T=a(144),E=a(4587),w=a(9094),C=a(1247),S=a(4600);const V=(0,E.j)({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...(0,w.cJ)((0,u.x)({active:!0}),["location"]),...(0,k.CK)(),...(0,b.M)(),...(0,L.m)({transition:"fab-transition"})},"VFab"),D=(0,C.RW)()({name:"VFab",props:V(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const o=(0,_.q)(e,"modelValue"),l=(0,T.IJ)(56),n=(0,T.KR)(),{resizeRef:r}=(0,v.w)((e=>{e.length&&(l.value=e[0].target.clientHeight)})),s=(0,i.EW)((()=>e.app||e.absolute)),d=(0,i.EW)((()=>!!s.value&&(e.location?.split(" ").shift()??"bottom"))),p=(0,i.EW)((()=>!!s.value&&(e.location?.split(" ")[1]??"end")));(0,F.Y)((()=>e.app),(()=>{const t=(0,k.hc)({id:e.name,order:(0,i.EW)((()=>parseInt(e.order,10))),position:d,layoutSize:(0,i.EW)((()=>e.layout?l.value+24:0)),elementSize:(0,i.EW)((()=>l.value+24)),active:(0,i.EW)((()=>e.app&&o.value)),absolute:(0,T.lW)(e,"absolute")});(0,i.nT)((()=>{n.value=t.layoutItemStyles.value}))}));const m=(0,T.KR)();return(0,S.C)((()=>{const t=u.D.filterProps(e);return(0,i.bF)("div",{ref:m,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${d.value}`]:s.value,[`v-fab--${p.value}`]:s.value},e.class],style:[e.app?{...n.value}:{height:"inherit",width:void 0},e.style]},[(0,i.bF)("div",{class:"v-fab__container"},[(0,i.bF)(L.M,{appear:e.appear,transition:e.transition},{default:()=>[(0,i.bo)((0,i.bF)(u.D,(0,i.v6)({ref:r},t,{active:void 0,location:void 0}),a),[[c.aG,e.active]])]})])])})),{}}});var x=a(1560),A=a(9669),z=a(6106),W=a(3948),M=a(1161),B=a(9562);const j=(0,i.Lk)("span",{class:"ml-3"},"Culturas",-1),q=(0,i.Lk)("span",null,"Nova Família",-1),O=(0,i.Lk)("span",{class:"text-h6"},"Nova Família de Culturas",-1);function X(e,t,a,o,s,k){const b=(0,i.g2)("CropsConfig");return(0,i.uX)(),(0,i.Wv)(p.J,null,{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-start pl-2"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Culturas":"Mostrar Culturas"),1)])),_:1})])),_:1}),(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-sprout")])),_:1}),j])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"mr-10",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openDialog},{default:(0,i.k6)((()=>[q])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.Wv)(l.L,{key:0},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})):((0,i.uX)(),(0,i.Wv)(l.L,{key:1,class:"pa-5"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.croptypes,(e=>((0,i.uX)(),(0,i.Wv)(n.B,{cols:"12",key:e.croptype_id},{default:(0,i.k6)((()=>[(0,i.bF)(b,{croptype:e,onRefresh:k.getCropTypes},null,8,["croptype","onRefresh"])])),_:2},1024)))),128))])),_:1}))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"bg-success"},{default:(0,i.k6)((()=>[O])),_:1}),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.newCropType.croptype_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.newCropType.croptype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[3]||(t[3]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingAdd,disabled:!s.formValid,onClick:t[4]||(t[4]=e=>k.postCropType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1})}const G={class:"d-flex align-center"},U=(0,i.Lk)("span",null,"Nova Cultura",-1),P=(0,i.Lk)("span",{class:"text-overline"},"Sem culturas",-1),I=(0,i.Lk)("span",{class:"text-h6"},"Nova Cultura",-1);function N(e,t,a,o,s,k){const b=(0,i.g2)("VarietyConfig");return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-space-between pl-2"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",G,[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Culturas":"Mostrar Culturas"),1)])),_:1})])),_:1}),(0,i.Lk)("span",null,(0,d.v_)(a.croptype.croptype_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",onClick:k.openEditDialog},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:1},8,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",onClick:k.deleteCropType,loading:s.isLoadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:1},8,["onClick","loading"])])])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"mr-10",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openDialog},{default:(0,i.k6)((()=>[U])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.Wv)(l.L,{key:0},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})):s.crops.length>0?((0,i.uX)(),(0,i.Wv)(l.L,{key:1,class:"pa-5"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.crops,(e=>((0,i.uX)(),(0,i.Wv)(n.B,{cols:"12",key:e.crop_id},{default:(0,i.k6)((()=>[(0,i.bF)(b,{crop:e,onRefresh:k.getCrops},null,8,["crop","onRefresh"])])),_:2},1024)))),128))])),_:1})):((0,i.uX)(),(0,i.Wv)(l.L,{key:2,class:"pa-5"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[P])),_:1})])),_:1}))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"bg-success"},{default:(0,i.k6)((()=>[I])),_:1}),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[3]||(t[3]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.newCrop.crop_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.newCrop.crop_name=e),modelModifiers:{trim:!0},label:"Nome Comum",placeholder:"Insira o nome comum","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1}),(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.newCrop.crop_scientificname,"onUpdate:modelValue":t[2]||(t[2]=e=>s.newCrop.crop_scientificname=e),modelModifiers:{trim:!0},label:"Nome Científico",placeholder:"Insira o nome científico","prepend-inner-icon":"mdi-flask-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[4]||(t[4]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingAdd,disabled:!s.formValid,onClick:t[5]||(t[5]=e=>k.postCrop())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"]),(0,i.bF)(y.p,{modelValue:s.editDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>s.editDialog=e),onAfterLeave:k.resetEdit,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.editFormValid,"onUpdate:modelValue":t[8]||(t[8]=e=>s.editFormValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.cropTypeEdit.croptype_name,"onUpdate:modelValue":t[7]||(t[7]=e=>s.cropTypeEdit.croptype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[9]||(t[9]=e=>s.editDialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingEdit,disabled:!k.canEdit,onClick:t[10]||(t[10]=e=>k.editCropType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var R=a(5832),J=a(2164),$=a(7254),Q=a(7294);const H={class:"d-flex align-center"},K={class:"font-italic"},Y=(0,i.Lk)("span",null,"Nova Variedade",-1),Z={key:0},ee={key:1},te={class:"d-flex align-center"},ae={class:"text-subtitle-1 font-weight-medium"},ie={key:2,class:"d-flex justify-center"},oe=(0,i.Lk)("span",{class:"text-overline"},"Sem variedades",-1),le=[oe],ne=(0,i.Lk)("span",{class:"text-h6"},"Nova Variedade",-1);function re(e,t,a,o,s,k){return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-space-between pl-2 py-0"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",H,[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Variedades":"Mostrar Variedades"),1)])),_:1})])),_:1}),(0,i.Lk)("span",null,(0,d.v_)(a.crop.crop_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",onClick:k.openEditCropDialog},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:1},8,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",onClick:k.deleteCrop,loading:s.isLoadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:1},8,["onClick","loading"])])])),_:1}),(0,i.bF)(R.Z,{class:"mb-4 ml-10"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",K,(0,d.v_)(a.crop.crop_scientificname),1)])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"me-4",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openAddDialog},{default:(0,i.k6)((()=>[Y])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.CE)("div",Z,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})])):s.varieties.length>0&&0==s.isLoading?((0,i.uX)(),(0,i.CE)("div",ee,[(0,i.bF)(J.x8,{lines:"1",class:"py-0"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.varieties,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.variety_id},[(0,i.bF)($.g,null,{default:(0,i.k6)((()=>[(0,i.bF)(Q.U,{class:"d-flex align-center justify-space-between"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",te,[(0,i.Lk)("span",ae,(0,d.v_)(e.variety_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",size:"small",onClick:t=>k.openEditVarietyDialog(e)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",size:"small",onClick:t=>k.deleteVariety(e),loading:e.loadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:2},1032,["onClick","loading"])])])),_:2},1024)])),_:2},1024),(0,i.bo)((0,i.bF)(f.G,null,null,512),[[c.aG,t!=s.varieties.length-1]])])))),128))])),_:1})])):((0,i.uX)(),(0,i.CE)("div",ie,le))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[s.editMode?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(m.r,{key:0,class:"bg-success"},{default:(0,i.k6)((()=>[(0,i.eW)(" >"),ne])),_:1})),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.variety.variety_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.variety.variety_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[3]||(t[3]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingDialog,disabled:s.editMode?!k.canEditVariety:!s.formValid,onClick:t[4]||(t[4]=()=>s.editMode?k.editVariety():k.postVariety())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"]),(0,i.bF)(y.p,{modelValue:s.editCropDialog,"onUpdate:modelValue":t[11]||(t[11]=e=>s.editCropDialog=e),onAfterLeave:k.resetEditCrop,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.editCropFormValid,"onUpdate:modelValue":t[8]||(t[8]=e=>s.editCropFormValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.cropEdit.crop_name,"onUpdate:modelValue":t[6]||(t[6]=e=>s.cropEdit.crop_name=e),label:"Nome Comum",placeholder:"Insira o nome da cultura","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1}),(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.cropEdit.crop_scientificname,"onUpdate:modelValue":t[7]||(t[7]=e=>s.cropEdit.crop_scientificname=e),label:"Nome Científico",placeholder:"Insira o nome científico da cultura","prepend-inner-icon":"mdi-flask-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[9]||(t[9]=e=>s.editCropDialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingEditCrop,disabled:!k.canEditCrop,onClick:t[10]||(t[10]=e=>k.editCrop())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var se=a(6044),de=a(501),ce=a(8355),ue={name:"VarietyConfig",props:{crop:{type:Object,required:!0}},setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,varieties:[],isLoading:!1,editMode:!1,dialog:!1,variety:{},formValid:!1,isLoadingDialog:!1,editCropDialog:!1,cropEdit:{},editCropFormValid:!1,isLoadingEditCrop:!1,isLoadingDelete:!1,oldVariety:{},rules:{required:e=>!!e||"Campo obrigatório.",sizeSmall:e=>e.length<=25||"Máximo de 25 caracteres."}}},watch:{show(e){e&&0===this.varieties.length&&this.getVarieties()}},computed:{canEditCrop(){return this.editCropFormValid&&(this.cropEdit.crop_name.trim()!==this.crop.crop_name.trim()||this.cropEdit.crop_scientificname.trim()!==this.crop.crop_scientificname.trim())},canEditVariety(){return this.formValid&&this.oldVariety.variety_name.trim()!==this.variety.variety_name.trim()}},methods:{async getVarieties(){this.isLoading=!0,await ce.A.request({url:"api/crops/"+this.crop.crop_id+"/varieties",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.varieties=e.data,this.isLoading=!1})).catch((e=>{this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao obter variedades.")}))},openAddDialog(){this.editMode=!1,this.dialog=!0},reset(){this.variety={},this.oldVariety={},this.formValid=!1,this.isLoadingDialog=!1},async postVariety(){this.isLoadingDialog=!0;let e={crop_id:this.crop.crop_id,variety_name:this.variety.variety_name.trim()};await ce.A.request({url:"api/varieties",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Variedade adicionada com sucesso."),this.dialog=!1,this.getVarieties()})).catch((e=>{this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao adicionar variedade.")}))},openEditVarietyDialog(e){this.editMode=!0,this.oldVariety={...e},this.variety={...e},this.dialog=!0},editVariety(){this.isLoadingDialog=!0;let e={variety_name:this.variety.variety_name.trim()};ce.A.request({url:"api/varieties/"+this.variety.variety_id,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((()=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Variedade editada com sucesso."),this.dialog=!1,this.getVarieties()})).catch((e=>{console.error(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao editar variedade.")}))},async deleteVariety(e){e.loadingDelete=!0,await ce.A.request({url:"api/varieties/"+e.variety_id,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((()=>{e.loadingDelete=!1,this.generalStore.successSnackbar("Variedade apagada com sucesso."),this.getVarieties()})).catch((t=>{e.loadingDelete=!1,console.error(t),this.generalStore.errorSnackbar(t.response.data.error,3e3)}))},openEditCropDialog(){this.editCropDialog=!0,this.editCropFormValid=!0,this.cropEdit={...this.crop}},resetEditCrop(){this.cropEdit={}},editCrop(){this.isLoadingEditCrop=!0;let e={crop_name:this.cropEdit.crop_name.trim(),crop_scientificname:this.cropEdit.crop_scientificname.trim()};ce.A.request({url:"api/crops/"+this.cropEdit.crop_id,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((()=>{this.isLoadingEditCrop=!1,this.dialog=!1,this.generalStore.successSnackbar("Cultura editada com sucesso."),this.$emit("refresh")})).catch((e=>{console.error(e),this.isLoadingEditCrop=!1,this.generalStore.errorSnackbar("Erro ao editar cultura.")}))},deleteCrop(){this.isLoadingDelete=!0,ce.A.request({url:"api/crops/"+this.crop.crop_id,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((()=>{this.isLoadingDelete=!1,this.generalStore.successSnackbar("Cultura apagada com sucesso."),this.$emit("refresh")})).catch((e=>{console.error(e),this.isLoadingDelete=!1,this.generalStore.errorSnackbar(e.response.data.error,3e3)}))}}},pe=a(1241);const me=(0,pe.A)(ue,[["render",re]]);var ge=me,he={name:"CropsVarietiesConfig",components:{VarietyConfig:ge},props:{croptype:{type:Object,required:!0}},setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,crops:[],isLoading:!1,dialog:!1,newCrop:{},formValid:!1,isLoadingAdd:!1,editDialog:!1,cropTypeEdit:{},editFormValid:!1,isLoadingEdit:!1,isLoadingDelete:!1,rules:{required:e=>!!e||"Campo obrigatório",sizeSmall:e=>e?.length<=30||"Máximo de 30 caracteres"}}},watch:{show(e){e&&0===this.crops.length&&(console.log("get crops"),this.getCrops())}},computed:{canEdit(){return this.editFormValid&&this.cropTypeEdit.croptype_name.trim()!==this.croptype.croptype_name.trim()}},methods:{async getCrops(){this.isLoading=!0,await ce.A.request({url:"api/croptypes/"+this.croptype.croptype_id+"/crops",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.crops=e.data,this.isLoading=!1})).catch((e=>{this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao obter culturas.")}))},openDialog(){this.dialog=!0,this.formValid=!1},reset(){this.newCrop={}},async postCrop(){this.isLoadingAdd=!0;let e={croptype_id:this.croptype.croptype_id,crop_name:this.newCrop.crop_name.trim(),crop_scientificname:this.newCrop.crop_scientificname.trim()};await ce.A.request({url:"api/crops",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((()=>{this.isLoadingAdd=!1,this.dialog=!1,this.generalStore.successSnackbar("Cultura adicionada com sucesso"),this.getCrops()})).catch((e=>{console.error(e),this.isLoadingAdd=!1,this.generalStore.errorSnackbar("Erro ao adicionar cultura")}))},openEditDialog(){this.editDialog=!0,this.editFormValid=!1,this.cropTypeEdit={...this.croptype}},resetEdit(){this.cropTypeEdit={}},editCropType(){this.isLoadingEdit=!0;let e={croptype_name:this.cropTypeEdit.croptype_name.trim()};ce.A.request({url:"api/croptypes/"+this.cropTypeEdit.croptype_id,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((()=>{this.isLoadingEdit=!1,this.editDialog=!1,this.generalStore.successSnackbar("Tipo de cultura editado com sucesso"),this.$emit("refresh")})).catch((e=>{console.error(e),this.isLoadingEdit=!1,this.generalStore.errorSnackbar("Erro ao editar tipo de cultura")}))},async deleteCropType(){this.isLoadingDelete=!0,await ce.A.request({url:"api/croptypes/"+this.croptype.croptype_id,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((()=>{this.isLoadingDelete=!1,this.generalStore.successSnackbar("Família de culturas apagada com sucesso"),this.$emit("refresh")})).catch((e=>{console.error(e),this.isLoadingDelete=!1,this.generalStore.errorSnackbar(e.response.data.error,3e3)}))}}};const ye=(0,pe.A)(he,[["render",N]]);var fe=ye,ke={name:"SystemView",components:{CropsConfig:fe},setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,croptypes:[],isLoading:!1,dialog:!1,newCropType:{},formValid:!1,isLoadingAdd:!1,rules:{required:e=>!!e||"Campo obrigatório",sizeSmall:e=>e?.length<=30||"Máximo de 30 caracteres"}}},watch:{show(e){e&&0===this.croptypes.length&&this.getCropTypes()}},computed:{},methods:{async getCropTypes(){this.isLoading=!0,await ce.A.request({url:"api/croptypes",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.croptypes=e.data,this.isLoading=!1})).catch((e=>{this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao obter tipos de culturas.")}))},openDialog(){this.dialog=!0},reset(){this.newCropType={},this.formValid=!1},async postCropType(){this.isLoadingAdd=!0;let e={croptype_name:this.newCropType.croptype_name.trim()};await ce.A.request({url:"api/croptypes",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingAdd=!1,this.generalStore.successSnackbar("Família de culturas adicionada com sucesso."),this.dialog=!1,this.getCropTypes()})).catch((e=>{this.isLoadingAdd=!1,this.generalStore.errorSnackbar("Erro ao adicionar tipo de cultura.")}))}}};const be=(0,pe.A)(ke,[["render",X]]);var _e=be;const ve=(0,i.Lk)("span",{class:"ml-3"},"Tipos de Parcela",-1),Fe=(0,i.Lk)("span",null,"Novo tipo",-1),Le={key:0},Te={key:1},Ee={class:"d-flex align-center"},we={class:"text-subtitle-1 font-weight-medium"},Ce={key:2},Se=(0,i.Lk)("span",null,"Nenhum tipo de parcela cadastrado.",-1),Ve=(0,i.Lk)("span",null,"Novo tipo de Parcela",-1);function De(e,t,a,o,s,k){return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-start pl-2"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Tipos":"Mostrar Tipos"),1)])),_:1})])),_:1}),(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-land-plots")])),_:1}),ve])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"me-4",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openAddDialog},{default:(0,i.k6)((()=>[Fe])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.CE)("div",Le,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})])):s.regiontypes.length>0&&0==s.isLoading?((0,i.uX)(),(0,i.CE)("div",Te,[(0,i.bF)(J.x8,{lines:"1",class:"py-0"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.regiontypes,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.regiontype_id},[(0,i.bF)($.g,null,{default:(0,i.k6)((()=>[(0,i.bF)(Q.U,{class:"d-flex align-center justify-space-between"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ee,[(0,i.Lk)("span",we,(0,d.v_)(e.regiontype_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",size:"small",onClick:t=>k.openEditTypeDialog(e)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",size:"small",onClick:t=>k.deleteRegionType(e),loading:e.loadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:2},1032,["onClick","loading"])])])),_:2},1024)])),_:2},1024),(0,i.bo)((0,i.bF)(f.G,null,null,512),[[c.aG,t!=s.regiontypes.length-1]])])))),128))])),_:1})])):0==s.regiontypes.length&&0==s.isLoading?((0,i.uX)(),(0,i.CE)("div",Ce,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[Se])),_:1})])),_:1})])):(0,i.Q3)("",!0)])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[s.editMode?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(m.r,{key:0,class:"bg-success"},{default:(0,i.k6)((()=>[Ve])),_:1})),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.regionType.regiontype_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.regionType.regiontype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[3]||(t[3]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingDialog,disabled:s.editMode?!k.canEditType:!s.formValid,onClick:t[4]||(t[4]=()=>s.editMode?k.editRegionType():k.postRegionType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var xe={name:"RegionTypesConfig",setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,regiontypes:[],isLoading:!1,editMode:!1,dialog:!1,regionType:{},formValid:!1,isLoadingDialog:!1,oldRegionType:{},rules:{required:e=>!!e||"Campo requerido",sizeSmall:e=>e.length<=50||"Máximo de 30 caracteres"}}},watch:{show(e){e&&0===this.regiontypes.length&&this.getRegionTypes()}},computed:{canEditType(){return this.formValid&&this.oldRegionType.regiontype_name.trim()!==this.regionType.regiontype_name.trim()}},methods:{async getRegionTypes(){this.isLoading=!0,ce.A.request({url:"api/regiontypes",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.regiontypes=e.data,this.isLoading=!1})).catch((e=>{console.error(e),this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao obter tipos de região.")}))},openAddDialog(){this.editMode=!1,this.dialog=!0},reset(){this.regionType={},this.oldRegionType={},this.formValid=!1,this.isLoadingDialog=!1},async postRegionType(){this.isLoadingDialog=!0;let e={regiontype_name:this.regionType.regiontype_name.trim()};ce.A.request({url:"api/regiontypes",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.dialog=!1,this.getRegionTypes(),this.generalStore.successSnackbar("Tipo de parcela criado com sucesso.")})).catch((e=>{console.error(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao criar tipo de parcela.")}))},openEditTypeDialog(e){this.editMode=!0,this.oldRegionType={...e},this.regionType={...e},this.dialog=!0},async editRegionType(){this.isLoadingDialog=!0;let e={regiontype_name:this.regionType.regiontype_name.trim()};await ce.A.request({url:`api/regiontypes/${this.regionType.regiontype_id}`,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de parcela editado com sucesso."),this.dialog=!1,this.getRegionTypes()})).catch((e=>{console.error(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao editar tipo de parcela.")}))},async deleteRegionType(e){e.loadingDelete=!0,await ce.A.request({url:`api/regiontypes/${e.regiontype_id}`,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((t=>{e.loadingDelete=!1,this.generalStore.successSnackbar("Tipo de parcela deletado com sucesso."),this.getRegionTypes()})).catch((t=>{e.loadingDelete=!1,console.error(t),this.generalStore.errorSnackbar(t.response.data.error,3e3)}))}}};const Ae=(0,pe.A)(xe,[["render",De]]);var ze=Ae;const We=(0,i.Lk)("span",{class:"ml-3"},"Tipos de Período",-1),Me=(0,i.Lk)("span",null,"Novo tipo",-1),Be={key:0},je={key:1},qe={class:"d-flex align-center"},Oe={class:"text-subtitle-1 font-weight-medium"},Xe={key:2},Ge=(0,i.Lk)("span",null,"Nenhum tipo de período registado.",-1),Ue=(0,i.Lk)("span",null,"Novo tipo de Período",-1);function Pe(e,t,a,o,s,k){return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-start pl-2"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Tipos":"Mostrar Tipos"),1)])),_:1})])),_:1}),(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-calendar")])),_:1}),We])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"me-4",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openAddDialog},{default:(0,i.k6)((()=>[Me])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.CE)("div",Be,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})])):s.periodtypes.length>0&&!s.isLoading?((0,i.uX)(),(0,i.CE)("div",je,[(0,i.bF)(J.x8,{lines:"1",class:"py-0"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.periodtypes,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.periodtype_id},[(0,i.bF)($.g,null,{default:(0,i.k6)((()=>[(0,i.bF)(Q.U,{class:"d-flex align-center justify-space-between"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",qe,[(0,i.Lk)("span",Oe,(0,d.v_)(e.periodtype_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",size:"small",onClick:t=>k.openEditTypeDialog(e)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",size:"small",onClick:t=>k.deletePeriodType(e),loading:e.loadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:2},1032,["onClick","loading"])])])),_:2},1024)])),_:2},1024),(0,i.bo)((0,i.bF)(f.G,null,null,512),[[c.aG,t!=s.periodtypes.length-1]])])))),128))])),_:1})])):0!=s.periodtypes.length||s.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Xe,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[Ge])),_:1})])),_:1})]))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[s.editMode?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(m.r,{key:0,class:"bg-success"},{default:(0,i.k6)((()=>[Ue])),_:1})),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.periodType.periodtype_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.periodType.periodtype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[3]||(t[3]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingDialog,disabled:s.editMode?!k.canEditType:!s.formValid,onClick:t[4]||(t[4]=()=>s.editMode?k.editPeriodType():k.postPeriodType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var Ie={name:"PeriodTypesConfig",setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,periodtypes:[],isLoading:!1,editMode:!1,dialog:!1,periodType:{},formValid:!1,isLoadingDialog:!1,oldPeriodType:{},rules:{required:e=>!!e||"Campo requerido",sizeSmall:e=>e.length<=50||"Máximo de 30 caracteres"}}},watch:{show(e){e&&0===this.periodtypes.length&&this.getPeriodTypes()}},computed:{canEditType(){return this.oldPeriodType.periodtype_name.trim()!==this.periodType.periodtype_name.trim()}},methods:{async getPeriodTypes(){this.isLoading=!0,await ce.A.request({url:"api/periodtypes",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.periodtypes=e.data,this.isLoading=!1})).catch((e=>{console.error(e),this.generalStore.errorSnackbar("Erro ao buscar tipos de período"),this.isLoading=!1}))},openAddDialog(){this.editMode=!1,this.dialog=!0},reset(){this.periodType={},this.oldPeriodType={},this.formValid=!1,this.isLoadingDialog=!1},async postPeriodType(){this.isLoadingDialog=!0;let e={periodtype_name:this.periodType.periodtype_name.trim()};await ce.A.request({url:"api/periodtypes",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de período adicionado com sucesso"),this.dialog=!1,this.getPeriodTypes()})).catch((e=>{console.error(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao adicionar tipo de período")}))},openEditTypeDialog(e){this.editMode=!0,this.oldPeriodType={...e},this.periodType={...e},this.dialog=!0},async editPeriodType(){this.isLoadingDialog=!0;let e={periodtype_name:this.periodType.periodtype_name.trim()};await ce.A.request({url:`api/periodtypes/${this.periodType.periodtype_id}`,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de período editado com sucesso"),this.dialog=!1,this.getPeriodTypes()})).catch((e=>{console.error(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao editar tipo de período")}))},async deletePeriodType(e){e.loadingDelete=!0,await ce.A.request({url:`api/periodtypes/${e.periodtype_id}`,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((t=>{e.loadingDelete=!1,this.generalStore.successSnackbar("Tipo de período eliminado com sucesso"),this.getPeriodTypes()})).catch((t=>{e.loadingDelete=!1,console.error(t),this.generalStore.errorSnackbar(t.response.data.error,3e3)}))}}};const Ne=(0,pe.A)(Ie,[["render",Pe]]);var Re=Ne;const Je=(0,i.Lk)("span",{class:"ml-3"},"Tipos de Organização",-1),$e=(0,i.Lk)("span",null,"Novo tipo",-1),Qe={key:0},He={key:1},Ke={class:"d-flex align-center"},Ye={class:"text-subtitle-1 font-weight-medium"},Ze={key:2},et=(0,i.Lk)("span",null,"Nenhum tipo de organização registado.",-1),tt=(0,i.Lk)("span",null,"Novo tipo de Organização",-1);function at(e,t,a,o,s,k){return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-start pl-2"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Tipos":"Mostrar Tipos"),1)])),_:1})])),_:1}),(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-domain")])),_:1}),Je])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"me-4",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openAddDialog},{default:(0,i.k6)((()=>[$e])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.CE)("div",Qe,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})])):s.organizationtypes.length>0&&!s.isLoading?((0,i.uX)(),(0,i.CE)("div",He,[(0,i.bF)(J.x8,{lines:"1",class:"py-0"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.organizationtypes,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.organizationtype_id},[(0,i.bF)($.g,null,{default:(0,i.k6)((()=>[(0,i.bF)(Q.U,{class:"d-flex align-center justify-space-between"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ke,[(0,i.Lk)("span",Ye,(0,d.v_)(e.organizationtype_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",size:"small",onClick:t=>k.openEditTypeDialog(e)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",size:"small",onClick:t=>k.deleteOrgType(e),loading:e.loadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:2},1032,["onClick","loading"])])])),_:2},1024)])),_:2},1024),(0,i.bo)((0,i.bF)(f.G,null,null,512),[[c.aG,t!=s.organizationtypes.length-1]])])))),128))])),_:1})])):0!=s.organizationtypes.length||s.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Ze,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[et])),_:1})])),_:1})]))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[s.editMode?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(m.r,{key:0,class:"bg-success"},{default:(0,i.k6)((()=>[tt])),_:1})),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.orgType.organizationtype_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.orgType.organizationtype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[3]||(t[3]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingDialog,disabled:s.editMode?!k.canEditType:!s.formValid,onClick:t[4]||(t[4]=()=>s.editMode?k.editOrgType():k.postOrgType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var it={name:"OrganizationTypesConfig",setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,organizationtypes:[],isLoading:!1,editMode:!1,dialog:!1,orgType:{},formValid:!1,isLoadingDialog:!1,oldOrgType:{},rules:{required:e=>!!e||"Campo requerido",sizeSmall:e=>e.length<=50||"Máximo de 30 caracteres"}}},watch:{show(e){e&&0===this.organizationtypes.length&&this.getOrganizationTypes()}},computed:{canEditType(){return this.formValid&&this.oldOrgType.organizationtype_name.trim()!==this.orgType.organizationtype_name.trim()}},methods:{async getOrganizationTypes(){this.isLoading=!0,await ce.A.request({url:"api/organizationtypes",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.organizationtypes=e.data,this.isLoading=!1})).catch((e=>{console.error(e),this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao obter os tipos de organização")}))},openAddDialog(){this.editMode=!1,this.dialog=!0},reset(){this.orgType={},this.oldOrgType={},this.formValid=!1,this.isLoadingDialog=!1},async postOrgType(){this.isLoadingDialog=!0;let e={organizationtype_name:this.orgType.organizationtype_name.trim()};await ce.A.request({url:"api/organizationtypes",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de organização adicionado"),this.dialog=!1,this.getOrganizationTypes()})).catch((e=>{console.error(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao adicionar tipo de organização")}))},openEditTypeDialog(e){this.editMode=!0,this.orgType={...e},this.oldOrgType={...e},this.dialog=!0},async editOrgType(){this.isLoadingDialog=!0;let e={organizationtype_name:this.orgType.organizationtype_name.trim()};await ce.A.request({url:`api/organizationtypes/${this.orgType.organizationtype_id}`,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de organização editado com sucesso."),this.dialog=!1,this.getOrganizationTypes()})).catch((e=>{console.error(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao editar tipo de organização")}))},async deleteOrgType(e){e.loadingDelete=!0,await ce.A.request({url:`api/organizationtypes/${e.organizationtype_id}`,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((t=>{e.loadingDelete=!1,this.generalStore.successSnackbar("Tipo de organização eliminado com sucesso."),this.getOrganizationTypes()})).catch((t=>{e.loadingDelete=!1,console.error(t),this.generalStore.errorSnackbar(t.response.data.error,3e3)}))}}};const ot=(0,pe.A)(it,[["render",at]]);var lt=ot,nt=a(7505);const rt=(0,i.Lk)("span",{class:"ml-3"},"Tipos de Mídia",-1),st=(0,i.Lk)("span",null,"Novo tipo",-1),dt={key:0},ct={key:1},ut={class:"d-flex align-center"},pt={class:"text-subtitle-1 font-weight-medium"},mt={key:2},gt=(0,i.Lk)("span",null,"Nenhum tipo de mídia registado.",-1),ht=(0,i.Lk)("span",null,"Novo tipo de Mídia",-1);function yt(e,t,a,o,s,k){return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-start pl-2"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Tipos":"Mostrar Tipos"),1)])),_:1})])),_:1}),(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-multimedia")])),_:1}),rt])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"me-4",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openAddDialog},{default:(0,i.k6)((()=>[st])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.CE)("div",dt,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})])):s.mediatypes.length>0&&!s.isLoading?((0,i.uX)(),(0,i.CE)("div",ct,[(0,i.bF)(J.x8,{lines:"1",class:"py-0"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.mediatypes,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.mediatype_id},[(0,i.bF)($.g,null,{default:(0,i.k6)((()=>[(0,i.bF)(Q.U,{class:"d-flex align-center justify-space-between"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",ut,[(0,i.Lk)("span",pt,(0,d.v_)(e.mediatype_label),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",size:"small",onClick:t=>k.openEditTypeDialog(e)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",size:"small",onClick:t=>k.deleteMediaType(e),loading:e.loadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:2},1032,["onClick","loading"])])])),_:2},1024),(0,i.bF)(nt.w,null,{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(e.mediatype_name),1)])),_:2},1024)])),_:2},1024),(0,i.bo)((0,i.bF)(f.G,null,null,512),[[c.aG,t!=s.mediatypes.length-1]])])))),128))])),_:1})])):0!=s.mediatypes.length||s.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",mt,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[gt])),_:1})])),_:1})]))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[s.editMode?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(m.r,{key:0,class:"bg-success"},{default:(0,i.k6)((()=>[ht])),_:1})),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"500"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[3]||(t[3]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"4"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.mediaType.mediatype_label,"onUpdate:modelValue":t[1]||(t[1]=e=>s.mediaType.mediatype_label=e),modelModifiers:{trim:!0},label:"Rótulo",placeholder:"Insira o rótulo","prepend-inner-icon":"mdi-tag-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.oneWord,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1}),(0,i.bF)(n.B,{cols:"8"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.mediaType.mediatype_name,"onUpdate:modelValue":t[2]||(t[2]=e=>s.mediaType.mediatype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[4]||(t[4]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingDialog,disabled:s.editMode?!k.canEditType:!s.formValid,onClick:t[5]||(t[5]=()=>s.editMode?k.editMediaType():k.postMediaType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var ft={name:"MediaTypesConfig",setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,mediatypes:[],isLoading:!1,editMode:!1,dialog:!1,mediaType:{},formValid:!1,isLoadingDialog:!1,oldMediaType:{},rules:{required:e=>!!e||"Campo obrigatório",sizeSmall:e=>e.length<=50||"Máximo de 30 caracteres",oneWord:e=>/^\w+$/.test(e)||"Apenas uma palavra é permitida"}}},watch:{show(e){e&&0===this.mediatypes.length&&this.getMediaTypes()}},computed:{canEditType(){return this.formValid&&this.mediaType.mediatype_label.trim()!==this.oldMediaType.mediatype_label.trim()||this.mediaType.mediatype_name.trim()!==this.oldMediaType.mediatype_name.trim()}},methods:{async getMediaTypes(){this.isLoading=!0,await ce.A.request({url:"api/mediatypes",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.mediatypes=e.data,this.isLoading=!1})).catch((e=>{console.log(e),this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao obter tipos de mídia.")}))},openAddDialog(){this.editMode=!1,this.dialog=!0},reset(){this.mediaType={},this.oldMediaType={},this.formValid=!1,this.isLoadingDialog=!1},async postMediaType(){this.isLoadingDialog=!0;let e={mediatype_label:this.mediaType.mediatype_label.trim(),mediatype_name:this.mediaType.mediatype_name.trim()};await ce.A.request({url:"api/mediatypes",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de mídia adicionado com sucesso."),this.dialog=!1,this.getMediaTypes()})).catch((e=>{console.log(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao adicionar tipo de mídia.")}))},openEditTypeDialog(e){this.editMode=!0,this.mediaType={...e},this.oldMediaType={...e},this.dialog=!0},async editMediaType(){this.isLoadingDialog=!0;let e={mediatype_label:this.mediaType.mediatype_label.trim(),mediatype_name:this.mediaType.mediatype_name.trim()};await ce.A.request({url:`api/mediatypes/${this.mediaType.mediatype_id}`,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de mídia atualizado com sucesso."),this.dialog=!1,this.getMediaTypes()})).catch((e=>{console.log(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao atualizar tipo de mídia.")}))},async deleteMediaType(e){e.loadingDelete=!0,await ce.A.request({url:`api/mediatypes/${e.mediatype_id}`,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((t=>{e.loadingDelete=!1,this.generalStore.successSnackbar("Tipo de mídia eliminado com sucesso."),this.getMediaTypes()})).catch((t=>{e.loadingDelete=!1,console.log(t),this.generalStore.errorSnackbar(t.response.data.error,3e3)}))}}};const kt=(0,pe.A)(ft,[["render",yt]]);var bt=kt,_t=a(105);const vt=(0,i.Lk)("span",{class:"ml-3"},"Tipos de Evento",-1),Ft=(0,i.Lk)("span",null,"Novo tipo",-1),Lt={key:0},Tt={key:1},Et={class:"d-flex align-center"},wt={class:"text-subtitle-1 font-weight-medium"},Ct={key:2},St=(0,i.Lk)("span",null,"Nenhum tipo de evento registado.",-1),Vt=(0,i.Lk)("span",null,"Novo tipo de Mídia",-1);function Dt(e,t,a,o,s,k){return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-start pl-2"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Tipos":"Mostrar Tipos"),1)])),_:1})])),_:1}),(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-alert-circle")])),_:1}),vt])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"me-4",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openAddDialog},{default:(0,i.k6)((()=>[Ft])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.CE)("div",Lt,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})])):s.eventtypes.length>0&&!s.isLoading?((0,i.uX)(),(0,i.CE)("div",Tt,[(0,i.bF)(J.x8,{lines:"1",class:"py-0"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.eventtypes,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.eventtype_id},[(0,i.bF)($.g,null,{default:(0,i.k6)((()=>[(0,i.bF)(Q.U,{class:"d-flex align-center justify-space-between"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Et,[(0,i.Lk)("span",wt,(0,d.v_)(e.eventtype_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",size:"small",onClick:t=>k.openEditTypeDialog(e)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",size:"small",onClick:t=>k.deleteEventType(e),loading:e.loadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:2},1032,["onClick","loading"])])])),_:2},1024),(0,i.bF)(nt.w,null,{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,"Importância "+(0,d.v_)(k.getImportance(e.eventtype_importance)),1)])),_:2},1024)])),_:2},1024),(0,i.bo)((0,i.bF)(f.G,null,null,512),[[c.aG,t!=s.eventtypes.length-1]])])))),128))])),_:1})])):0!=s.eventtypes.length||s.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Ct,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[St])),_:1})])),_:1})]))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[s.editMode?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(m.r,{key:0,class:"bg-success"},{default:(0,i.k6)((()=>[Vt])),_:1})),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"500"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[3]||(t[3]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"8"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.eventType.eventtype_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.eventType.eventtype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.oneWord,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1}),(0,i.bF)(n.B,{cols:"4"},{default:(0,i.k6)((()=>[(0,i.bF)(_t.d4,{modelValue:s.eventType.eventtype_importance,"onUpdate:modelValue":t[2]||(t[2]=e=>s.eventType.eventtype_importance=e),modelModifiers:{number:!0},items:s.importanceOptions,"item-title":"title","item-value":"value",label:"Importância",placeholder:"Selecione a importância","prepend-inner-icon":"mdi-alert-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required]},null,8,["modelValue","items","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[4]||(t[4]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingDialog,disabled:s.editMode?!k.canEditType:!s.formValid,onClick:t[5]||(t[5]=()=>s.editMode?k.editEventType():k.postEventType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var xt={name:"EventTypesConfig",setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,eventtypes:[],isLoading:!1,editMode:!1,dialog:!1,eventType:{},formValid:!1,isLoadingDialog:!1,oldEventType:{},rules:{required:e=>!!e||"Campo obrigatório",sizeSmall:e=>e.length<=50||"Máximo de 50 caracteres permitidos"},importanceOptions:[{title:"Baixa",value:3},{title:"Média",value:2},{title:"Alta",value:1}]}},watch:{show(e){e&&0===this.eventtypes.length&&this.getEventTypes()}},computed:{canEditType(){return this.formValid&&this.eventType.eventtype_name.trim()!==this.oldEventType.eventtype_name.trim()||this.eventType.eventtype_importance!==this.oldEventType.eventtype_importance}},methods:{getImportance(e){return console.log(e),this.importanceOptions.find((t=>t.value===e))?.title},async getEventTypes(){this.isLoading=!0,await ce.A.request({url:"api/eventtypes",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.eventtypes=e.data,this.isLoading=!1})).catch((e=>{console.log(e),this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao obter tipos de eventos.")}))},openAddDialog(){this.editMode=!1,this.dialog=!0},reset(){this.eventType={},this.oldEventType={},this.formValid=!1,this.isLoadingDialog=!1},async postEventType(){this.isLoadingDialog=!0;let e={eventtype_name:this.eventType.eventtype_name.trim(),eventtype_importance:this.eventType.eventtype_importance};await ce.A.request({url:"api/eventtypes",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de evento adicionado com sucesso."),this.dialog=!1,this.getEventTypes()})).catch((e=>{console.log(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao adicionar tipo de evento.")}))},openEditTypeDialog(e){this.editMode=!0,this.eventType={...e},this.oldEventType={...e},this.dialog=!0},async editEventType(){this.isLoadingDialog=!0;let e={eventtype_name:this.eventType.eventtype_name.trim(),eventtype_importance:this.eventType.eventtype_importance};await ce.A.request({url:`api/eventtypes/${this.eventType.eventtype_id}`,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Tipo de evento editado com sucesso."),this.dialog=!1,this.getEventTypes()})).catch((e=>{console.log(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao editar tipo de evento.")}))},async deleteEventType(e){e.loadingDelete=!0,await ce.A.request({url:`api/eventtypes/${e.eventtype_id}`,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((t=>{e.loadingDelete=!1,this.generalStore.successSnackbar("Tipo de evento apagado com sucesso."),this.getEventTypes()})).catch((t=>{e.loadingDelete=!1,console.log(t),this.generalStore.errorSnackbar(t.response.data.error,3e3)}))}}};const At=(0,pe.A)(xt,[["render",Dt]]);var zt=At;const Wt=(0,i.Lk)("span",{class:"ml-3"},"Inimigos",-1),Mt=(0,i.Lk)("span",null,"Novo Tipo",-1),Bt=(0,i.Lk)("span",{class:"text-h6"},"Novo Tipo de Inimigo",-1);function jt(e,t,a,o,s,k){const b=(0,i.g2)("EnemiesConfig");return(0,i.uX)(),(0,i.Wv)(p.J,null,{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-start pl-2"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Tipos":"Mostrar Tipos"),1)])),_:1})])),_:1}),(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-bug")])),_:1}),Wt])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"mr-10",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openDialog},{default:(0,i.k6)((()=>[Mt])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.Wv)(l.L,{key:0},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})):((0,i.uX)(),(0,i.Wv)(l.L,{key:1,class:"pa-5"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.enemytypes,(e=>((0,i.uX)(),(0,i.Wv)(n.B,{cols:"12",key:e.enemytype_id},{default:(0,i.k6)((()=>[(0,i.bF)(b,{enemytype:e,onRefresh:t[1]||(t[1]=e=>k.getEnemyTypes())},null,8,["enemytype"])])),_:2},1024)))),128))])),_:1}))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[6]||(t[6]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"bg-success"},{default:(0,i.k6)((()=>[Bt])),_:1}),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[3]||(t[3]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.newEnemyType.enemytype_name,"onUpdate:modelValue":t[2]||(t[2]=e=>s.newEnemyType.enemytype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[4]||(t[4]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingAdd,disabled:!s.formValid,onClick:t[5]||(t[5]=e=>k.postEnemyType())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1})}const qt={class:"d-flex align-center"},Ot=(0,i.Lk)("span",null,"Novo Inimigo",-1),Xt={key:0},Gt={key:1},Ut={class:"d-flex align-center"},Pt={class:"text-subtitle-1 font-weight-medium"},It={key:2,class:"d-flex justify-center"},Nt=(0,i.Lk)("span",{class:"text-overline"},"Sem inimigos",-1),Rt=[Nt],Jt=(0,i.Lk)("span",{class:"text-h6"},"Novo Inimigo",-1);function $t(e,t,a,o,s,k){return(0,i.uX)(),(0,i.Wv)(p.J,{loading:s.isLoading},{default:(0,i.k6)((()=>[(0,i.bF)(m.r,{class:"d-flex align-center justify-space-between pl-2 py-0"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",qt,[(0,i.bF)(u.D,{variant:"plain",color:"primary",icon:"",onClick:t[0]||(t[0]=e=>s.show=!s.show)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,d.v_)(s.show?"mdi-chevron-down":"mdi-chevron-right"),1)])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"left"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",null,(0,d.v_)(s.show?"Ocultar Inimigos":"Mostrar Inimigos"),1)])),_:1})])),_:1}),(0,i.Lk)("span",null,(0,d.v_)(a.enemytype.enemytype_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",onClick:k.openEditTypeDialog},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:1},8,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",onClick:k.deleteEnemyType,loading:s.isLoadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:1},8,["onClick","loading"])])])),_:1}),(0,i.bF)(f.G),(0,i.bF)(B.Qo,null,{default:(0,i.k6)((()=>[(0,i.bo)((0,i.Lk)("div",null,[(0,i.bF)(D,{active:s.show,class:"me-4",color:"success",location:"top end",absolute:"",offset:"","append-icon":"mdi-plus",onClick:k.openAddDialog},{default:(0,i.k6)((()=>[Ot])),_:1},8,["active","onClick"]),(0,i.bF)(g.O,null,{default:(0,i.k6)((()=>[s.isLoading?((0,i.uX)(),(0,i.CE)("div",Xt,[(0,i.bF)(l.L,null,{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"12",class:"d-flex justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(z.x,{indeterminate:"",color:"primary"})])),_:1})])),_:1})])):s.enemies.length>0&&0==s.isLoading?((0,i.uX)(),(0,i.CE)("div",Gt,[(0,i.bF)(J.x8,{lines:"1",class:"py-0"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.enemies,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:e.enemy_id},[(0,i.bF)($.g,null,{default:(0,i.k6)((()=>[(0,i.bF)(Q.U,{class:"d-flex align-center justify-space-between"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ut,[(0,i.Lk)("span",Pt,(0,d.v_)(e.enemy_name),1),(0,i.bF)(u.D,{color:"warning",variant:"text",icon:"",size:"small",onClick:t=>k.openEditEnemyDialog(e)},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-pencil")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Editar")])),_:1})])),_:2},1032,["onClick"])]),(0,i.Lk)("div",null,[(0,i.bF)(u.D,{color:"error",variant:"text",icon:"",size:"small",onClick:t=>k.deleteEnemy(e),loading:e.loadingDelete},{default:(0,i.k6)((()=>[(0,i.bF)(A.w,null,{default:(0,i.k6)((()=>[(0,i.eW)("mdi-close")])),_:1}),(0,i.bF)(M.y,{activator:"parent",location:"bottom"},{default:(0,i.k6)((()=>[(0,i.eW)("Apagar")])),_:1})])),_:2},1032,["onClick","loading"])])])),_:2},1024)])),_:2},1024),(0,i.bo)((0,i.bF)(f.G,null,null,512),[[c.aG,t!=s.enemies.length-1]])])))),128))])),_:1})])):((0,i.uX)(),(0,i.CE)("div",It,Rt))])),_:1})],512),[[c.aG,s.show]])])),_:1}),(0,i.bF)(y.p,{modelValue:s.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialog=e),onAfterLeave:k.reset,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[s.editMode?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(m.r,{key:0,class:"bg-success"},{default:(0,i.k6)((()=>[Jt])),_:1})),(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.formValid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.enemy.enemy_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.enemy.enemy_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(f.G),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[3]||(t[3]=e=>s.dialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingDialog,disabled:s.editMode?!k.canEditEnemy:!s.formValid,onClick:t[4]||(t[4]=()=>s.editMode?k.editEnemy():k.postEnemy())},null,8,["loading","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"]),(0,i.bF)(y.p,{modelValue:s.editTypeDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>s.editTypeDialog=e),onAfterLeave:k.resetEditType,width:"auto"},{default:(0,i.k6)((()=>[(0,i.bF)(p.J,{class:"mx-auto","min-width":"500"},{default:(0,i.k6)((()=>[(0,i.bF)(g.O,{class:"d-flex align-center justify-center"},{default:(0,i.k6)((()=>[(0,i.bF)(r.i,{width:"400"},{default:(0,i.k6)((()=>[(0,i.bF)(x.n,{class:"mt-4",modelValue:s.typeFormValid,"onUpdate:modelValue":t[7]||(t[7]=e=>s.typeFormValid=e)},{default:(0,i.k6)((()=>[(0,i.bF)(l.L,{justify:"center"},{default:(0,i.k6)((()=>[(0,i.bF)(n.B,{cols:"10"},{default:(0,i.k6)((()=>[(0,i.bF)(W.W,{modelValue:s.enemyTypeEdit.enemytype_name,"onUpdate:modelValue":t[6]||(t[6]=e=>s.enemyTypeEdit.enemytype_name=e),modelModifiers:{trim:!0},label:"Nome",placeholder:"Insira o nome","prepend-inner-icon":"mdi-tag-text-outline",variant:"outlined",density:"comfortable",rules:[s.rules.required,s.rules.sizeSmall]},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.bF)(h.S,{class:"d-flex justify-space-around"},{default:(0,i.k6)((()=>[(0,i.bF)(u.D,{color:"error",variant:"tonal",icon:"mdi-close",onClick:t[8]||(t[8]=e=>s.editTypeDialog=!1)}),(0,i.bF)(u.D,{color:"secondary",variant:"tonal",icon:"mdi-check",loading:s.isLoadingEditType,disabled:!k.canEditType,onClick:k.editEnemyType},null,8,["loading","disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onAfterLeave"])])),_:1},8,["loading"])}var Qt={name:"EnemiesConfig",props:{enemytype:{type:Object,required:!0}},setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,enemies:[],isLoading:!1,editMode:!1,dialog:!1,enemy:{},formValid:!1,isLoadingDialog:!1,editTypeDialog:!1,enemyTypeEdit:{},typeFormValid:!1,isLoadingEditType:!1,isLoadingDelete:!1,oldEnemy:{},rules:{required:e=>!!e||"Campo obrigatório",sizeSmall:e=>e?.length<=30||"Máximo de 30 caracteres"}}},watch:{show(e){e&&0===this.enemies.length&&this.getEnemies()}},computed:{canEditType(){return this.typeFormValid&&this.enemyTypeEdit.enemytype_name.trim()!==this.enemytype.enemytype_name.trim()},canEditEnemy(){return this.formValid&&this.enemy.enemy_name.trim()!==this.oldEnemy.enemy_name.trim()}},methods:{async getEnemies(){this.isLoading=!0,await ce.A.request({url:"api/enemies",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token},params:{enemytype_id:this.enemytype.enemytype_id}}).then((e=>{this.enemies=e.data,this.isLoading=!1})).catch((e=>{this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao buscar inimigos")}))},openAddDialog(){this.editMode=!1,this.dialog=!0},reset(){this.enemy={},this.oldEnemy={},this.formValid=!1,this.isLoadingDialog=!1},async postEnemy(){this.isLoadingDialog=!0;let e={enemytype_id:this.enemytype.enemytype_id,enemy_name:this.enemy.enemy_name.trim()};await ce.A.request({url:"api/enemies",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Inimigo adicionado com sucesso."),this.dialog=!1,this.getEnemies()})).catch((e=>{console.log(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao adicionar inimigo.")}))},openEditEnemyDialog(e){this.editMode=!0,this.oldEnemy={...e},this.enemy={...e},this.dialog=!0},editEnemy(){this.isLoadingDialog=!0;let e={enemy_name:this.enemy.enemy_name.trim()};ce.A.request({url:`api/enemies/${this.enemy.enemy_id}`,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingDialog=!1,this.generalStore.successSnackbar("Inimigo editado com sucesso."),this.dialog=!1,this.getEnemies()})).catch((e=>{console.log(e),this.isLoadingDialog=!1,this.generalStore.errorSnackbar("Erro ao editar inimigo.")}))},async deleteEnemy(e){e.loadingDelete=!0,await ce.A.request({url:`api/enemies/${e.enemy_id}`,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((t=>{e.loadingDelete=!1,this.generalStore.successSnackbar("Inimigo apagado com sucesso."),this.getEnemies()})).catch((t=>{console.log(t),e.loadingDelete=!1,this.generalStore.errorSnackbar(t.response.data.error,3e3)}))},openEditTypeDialog(){this.editTypeDialog=!0,this.enemyTypeEdit={...this.enemytype}},resetEditType(){this.enemyTypeEdit={}},editEnemyType(){this.isLoadingEditType=!0;let e={enemytype_name:this.enemyTypeEdit.enemytype_name.trim()};ce.A.request({url:`api/enemytypes/${this.enemyTypeEdit.enemytype_id}`,method:"PATCH",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingEditType=!1,this.generalStore.successSnackbar("Tipo de inimigo editado com sucesso."),this.editTypeDialog=!1,this.$emit("refresh")})).catch((e=>{console.log(e),this.isLoadingEditType=!1,this.generalStore.errorSnackbar("Erro ao editar tipo de inimigo.")}))},async deleteEnemyType(){this.isLoadingDelete=!0,await new Promise((e=>setTimeout(e,2e3))),await ce.A.request({url:`api/enemytypes/${this.enemytype.enemytype_id}`,method:"DELETE",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.isLoadingDelete=!1,this.generalStore.successSnackbar("Tipo de inimigo apagado com sucesso."),this.$emit("refresh")})).catch((e=>{console.log(e),this.isLoadingDelete=!1,this.generalStore.errorSnackbar(e.response.data.error,3e3)}))}}};const Ht=(0,pe.A)(Qt,[["render",$t]]);var Kt=Ht,Yt={name:"EnemyTypesConfig",components:{EnemiesConfig:Kt},setup(){const e=(0,se.E)(),t=(0,de.T)();return{accountStore:e,generalStore:t}},data(){return{show:!1,enemytypes:[],isLoading:!1,dialog:!1,newEnemyType:{},formValid:!1,isLoadingAdd:!1,rules:{required:e=>!!e||"Campo obrigatório",sizeSmall:e=>e?.length<=30||"Máximo de 30 caracteres"}}},watch:{show(e){e&&0===this.enemytypes.length&&this.getEnemyTypes()}},methods:{async getEnemyTypes(){this.isLoading=!0,await ce.A.request({url:"api/enemytypes",method:"GET",headers:{Authorization:"Bearer "+this.accountStore.account.token}}).then((e=>{this.enemytypes=e.data,this.isLoading=!1})).catch((e=>{console.log(e),this.isLoading=!1,this.generalStore.errorSnackbar("Erro ao buscar tipos de inimigos")}))},openDialog(){this.dialog=!0},reset(){this.newEnemyType={},this.formValid=!1},async postEnemyType(){this.isLoadingAdd=!0;let e={enemytype_name:this.newEnemyType.enemytype_name.trim()};await ce.A.request({url:"api/enemytypes",method:"POST",headers:{Authorization:"Bearer "+this.accountStore.account.token},data:e}).then((e=>{this.isLoadingAdd=!1,this.generalStore.successSnackbar("Tipo de inimigo criado com sucesso"),this.dialog=!1,this.getEnemyTypes()})).catch((e=>{console.log(e),this.generalStore.errorSnackbar("Erro ao criar tipo de inimigo")}))}}};const Zt=(0,pe.A)(Yt,[["render",jt]]);var ea=Zt,ta={name:"SystemView",components:{CropTypesConfig:_e,RegionTypesConfig:ze,PeriodTypesConfig:Re,OrganizationTypesConfig:lt,MediaTypesConfig:bt,EventTypesConfig:zt,EnemyTypesConfig:ea},data(){return{}},computed:{sheetHeight(){return window.innerHeight-110}},methods:{},created(){}};const aa=(0,pe.A)(ta,[["render",s],["__scopeId","data-v-4b9c995b"]]);var ia=aa},1161:function(e,t,a){a.d(t,{y:function(){return h}});var i=a(6768),o=a(8856),l=a(1950),n=a(2067),r=a(2876),s=a(144),d=a(4587),c=a(9094),u=a(1247),p=a(7861),m=a(4600);const g=(0,d.j)({id:String,text:String,...(0,c.cJ)((0,o.D)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),h=(0,u.RW)()({name:"VTooltip",props:g(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:a}=t;const d=(0,n.q)(e,"modelValue"),{scopeId:c}=(0,r.b)(),u=(0,p.v6)(),g=(0,i.EW)((()=>e.id||`v-tooltip-${u}`)),h=(0,s.KR)(),y=(0,i.EW)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),f=(0,i.EW)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),k=(0,i.EW)((()=>e.transition?e.transition:d.value?"scale-transition":"fade-transition")),b=(0,i.EW)((()=>(0,i.v6)({"aria-describedby":g.value},e.activatorProps)));return(0,m.C)((()=>{const t=o.L.filterProps(e);return(0,i.bF)(o.L,(0,i.v6)({ref:h,class:["v-tooltip",e.class],style:e.style,id:g.value},t,{modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,transition:k.value,absolute:!0,location:y.value,origin:f.value,persistent:!0,role:"tooltip",activatorProps:b.value,_disableGlobalStack:!0},c),{activator:a.activator,default:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return a.default?.(...i)??e.text}})})),(0,l.O)({},h)}})}}]);
//# sourceMappingURL=system.fa314088.js.map